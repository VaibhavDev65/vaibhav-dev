const easy_sentences = [
    "Learning to type well is very important in daily life. Many people use computers and phones every day and typing helps them work faster and more efficiently. Beginners should focus on accuracy before speed because correct typing builds good habits. It is better to type slowly and carefully than to type fast and make mistakes. Practicing a little every day can improve typing skills over time. Sitting properly and keeping fingers on the right keys makes typing easier and more comfortable. Mistakes are normal and should be corrected gently without stress. Typing is not only useful for school or work but also for communication and creativity. Writing messages essays or notes becomes easier when you type confidently. Patience consistency and daily practice are the keys to becoming a good typist. With time and effort anyone can improve and enjoy typing.",
    "Spending time outdoors is very good for health and happiness. Walking in a park or garden helps the body stay active and the mind feel calm. Fresh air and sunlight give energy and improve mood. Many people spend most of their day indoors and feel tired or stressed. Going outside even for a short time can make a big difference. Observing nature like trees flowers and birds can be relaxing and inspiring. Simple activities like walking running or playing with friends help the body grow strong and healthy. Outdoor time also encourages thinking clearly and solving problems easily. Families and friends can enjoy time together while being outside. Developing a habit of going outdoors every day helps in keeping both the mind and body healthy. With regular outdoor activity life becomes more enjoyable and peaceful.",
    "Reading books is a very good habit for everyone. Books give knowledge and help people understand the world better. Beginners can start with simple stories and gradually read more difficult books. Reading improves concentration and makes the mind active. It also helps in learning new words and expressing thoughts clearly. Students can use reading to improve their studies and enjoy learning new subjects. Adults can read books to relax and gain wisdom from different experiences. Reading every day even for a few minutes can make a big difference over time. Libraries and online resources provide many books for free that anyone can use. Sharing books with friends and discussing stories can make reading more enjoyable. Developing a habit of reading regularly builds imagination creativity and confidence in writing and speaking. Reading is a lifelong habit that brings joy and knowledge.",
    "Eating healthy food is very important for the body and mind. Fresh fruits and vegetables give energy and keep the body strong. Drinking enough water every day helps in staying active and feeling good. Many people eat fast food or junk food too often and feel tired or sick. Preparing simple meals at home is a good habit and saves money. Eating at regular times and avoiding too much sugar or oil helps in staying healthy. Breakfast is very important because it gives energy to start the day. Families can enjoy cooking together and learn new recipes. Healthy food also improves concentration and performance at school or work. Children who eat balanced meals grow strong and learn better. Adults can feel more active and positive when they eat healthy food. Developing good eating habits early in life is very useful for long term health.",
    "Helping others is a very good habit for everyone. Small acts of kindness can make someone happy and also give a good feeling to the person who helps. People can help at home by doing chores or helping family members. At school friends can share books or help each other with studies. In the community volunteering for cleaning planting trees or helping neighbors is very useful. Helping does not need money it only needs time and care. Being kind and supportive makes relationships stronger and creates trust. Children who learn to help from an early age grow up with good manners and respect for others. Adults who help regularly feel more positive and confident. Even a smile or a few kind words can change someone's day. Developing a habit of helping others brings happiness and makes life better for everyone."
];

const medium_sentences = [
    "Technology has changed the way people communicate work and learn. With the rise of the internet smartphones and digital platforms information is available instantly and connections can be made across the world in seconds. Social media allows individuals to share ideas and opinions but it also brings challenges such as misinformation and distraction. Working remotely has become common and people need strong time management and self discipline to stay productive. Learning new skills online is convenient yet it requires focus and consistency to achieve real mastery. Despite the advantages of technology human interaction remains important because face to face conversations build trust and understanding in ways that messages and emails cannot. Balancing screen time with outdoor activities reading and meaningful conversations helps maintain mental and physical well being. Technology is a tool and using it wisely can enhance both personal and professional growth.",
    "Traveling to new places provides valuable experiences and broadens understanding of different cultures. When people explore unfamiliar cities or countries they encounter new languages foods and traditions that challenge their perspectives. Planning a trip requires research organization and flexibility because unexpected situations often arise. Traveling also encourages problem solving and quick thinking when navigating transport schedules or finding accommodations. Meeting locals and other travelers allows individuals to share stories and gain insights that cannot be learned from books or videos. Photographs and journals help capture memories but the experiences themselves leave a lasting impression. While traveling can be exciting it also teaches patience tolerance and adaptability. Sustainable and respectful travel ensures that natural environments and cultural heritage are preserved for future generations. Overall, traveling is more than leisure it is a way to grow intellectually emotionally and socially while gaining unforgettable experiences.",
    "Reading regularly is one of the most effective ways to improve knowledge and critical thinking skills. Books, articles, and essays expose readers to new ideas, perspectives, and problem-solving approaches that can be applied in real life. Developing a reading habit requires discipline and focus, especially in a world full of distractions such as social media and television. Taking notes while reading helps retain important information and encourages deeper understanding of complex topics. Discussions with peers about what has been read further enhance comprehension and promote intellectual growth. Reading also improves vocabulary, writing skills, and the ability to communicate ideas clearly. While fiction stimulates imagination and empathy, non-fiction provides practical knowledge and analytical skills. Balancing both types of reading can make learning enjoyable and effective. Ultimately, consistent reading contributes to personal development, professional success, and a lifelong love of learning.",
    "Exercise plays a vital role in maintaining both physical and mental health. Regular physical activity strengthens muscles, improves cardiovascular function, and boosts energy levels. It also helps reduce stress, anxiety, and symptoms of depression by releasing endorphins that improve mood naturally. Establishing a consistent routine requires motivation and careful planning, including selecting activities that are enjoyable and achievable. Outdoor exercises such as walking, running, or cycling provide fresh air and sunlight, while indoor workouts offer flexibility and convenience. Combining different types of exercises, including strength training, flexibility routines, and aerobic activities, ensures overall fitness. Nutrition, hydration, and sufficient rest are essential to maximize the benefits of exercise and prevent injuries. Over time, consistent effort leads to improved stamina, better focus, and increased confidence. Maintaining a healthy lifestyle through exercise contributes not only to personal wellbeing but also to long-term productivity and happiness.",
    "Time management is one of the most important skills for achieving personal and professional goals. People who plan their day effectively are able to balance work, study, and leisure activities without feeling overwhelmed. Prioritizing tasks, setting realistic deadlines, and avoiding procrastination help in completing work efficiently. Using tools such as calendars, to-do lists, and reminders can improve organization and ensure important tasks are not forgotten. It is also essential to allocate time for breaks and relaxation because continuous work without rest can lead to burnout and reduced productivity. Learning to say no to unnecessary commitments allows focus on meaningful activities that contribute to long-term growth. Reflecting on daily achievements and adjusting plans accordingly helps in developing better strategies over time. Overall, mastering time management increases efficiency, reduces stress, and enhances personal satisfaction in every aspect of life."
];

const hard_sentences = [
    "In the modern world, technology evolves at an unprecedented pace, transforming industries, societies, and individual lifestyles in ways previously unimaginable. Innovations such as artificial intelligence, blockchain, and quantum computing are redefining the boundaries of possibility, enabling automation, secure transactions, and computational power beyond traditional limits. However, these advancements also introduce complex ethical dilemmas: data privacy, cybersecurity threats, and the displacement of jobs due to automation demand careful consideration. Professionals must not only adapt their technical skills but also cultivate critical thinking, creativity, and emotional intelligence to navigate this dynamic environment successfully. Continuous learning through online courses, workshops, and collaborative projects is essential, as stagnation can quickly result in obsolescence. Furthermore, interdisciplinary knowledge—combining technology, social sciences, and communication—provides a competitive advantage in problem-solving. Balancing innovation with responsibility ensures that progress benefits society while mitigating unintended consequences.",
    "Global climate change poses one of the most urgent challenges of the twenty-first century, affecting ecosystems, economies, and human health worldwide. Rising temperatures, unpredictable weather patterns, and increasing frequency of extreme events such as hurricanes, floods, and wildfires threaten communities and infrastructure. Mitigating these impacts requires coordinated international efforts, including the adoption of renewable energy sources, reforestation initiatives, and sustainable agricultural practices. Policymakers, scientists, and citizens alike must prioritize evidence-based strategies, balancing economic growth with environmental stewardship. Additionally, innovation in technology—such as carbon capture, electric transportation, and energy-efficient building designs—plays a critical role in reducing greenhouse gas emissions. Public awareness campaigns, education, and community engagement further empower individuals to make informed choices in daily life. While the challenge is immense, collective action, creativity, and persistence can help society adapt to and mitigate the effects of climate change, ensuring a sustainable future for generations to come.",
    "Artificial intelligence and machine learning have become integral components of modern technology, influencing sectors ranging from healthcare and finance to transportation and entertainment. Algorithms now analyze vast amounts of data to detect patterns, make predictions, and automate decision-making processes with remarkable efficiency. However, this rapid adoption raises significant ethical and social concerns: biased data can lead to unfair outcomes, privacy breaches may compromise sensitive information, and overreliance on automated systems can reduce human oversight. Professionals working with AI must not only understand the technical foundations, including neural networks, natural language processing, and reinforcement learning, but also develop frameworks for responsible implementation. Collaboration across disciplines—combining computer science, ethics, law, and social sciences—is essential to create solutions that maximize benefits while minimizing risks. By embracing continuous learning, critical thinking, and transparent practices, society can harness the transformative potential of AI in a manner that is both innovative and responsible.",
    "The rapid expansion of digital communication platforms has fundamentally altered the way individuals, businesses, and governments interact. Social media, instant messaging, and video conferencing tools allow information to be shared instantaneously across the globe, fostering collaboration and connectivity. Yet this convenience also introduces challenges, including the spread of misinformation, cyberbullying, and data security vulnerabilities. Organizations must implement robust cybersecurity measures and educate users about safe online practices to mitigate risks effectively. Moreover, the psychological effects of constant connectivity—such as stress, distraction, and diminished attention span—require individuals to adopt mindful usage habits. Balancing accessibility with privacy, efficiency with ethics, and speed with accuracy is essential in the digital era. Professionals who master digital literacy, critical evaluation of sources, and responsible communication can leverage these tools to enhance productivity, innovation, and societal engagement while avoiding potential pitfalls inherent to a hyperconnected world.",
    "Sustainable urban development is essential to address the growing challenges posed by population growth, resource scarcity, and environmental degradation. Cities must integrate green infrastructure, renewable energy sources, and efficient public transportation systems to reduce carbon emissions and improve the quality of life for residents. Urban planners and policymakers face complex decisions that balance economic growth, social equity, and ecological preservation. Incorporating smart technologies, such as sensors for traffic management and energy monitoring, can optimize resource usage and enhance public services. Community engagement and participatory decision-making ensure that development projects reflect the needs and priorities of diverse populations. Furthermore, waste management, water conservation, and the creation of open recreational spaces contribute to both sustainability and wellbeing. Achieving resilient cities requires long-term vision, interdisciplinary collaboration, and continuous innovation. By prioritizing sustainable practices today, societies can ensure that urban environments remain livable, inclusive, and prosperous for future generations."
];

const sentenceDiv = document.getElementById("sentence");
const input = document.getElementById("input");
const timeSpan = document.getElementById("time");
const resultDiv = document.getElementById("result");
const startBtn = document.getElementById("startBtn");

let time = 60;
let timer = null;
let started = false;
let correctChars = 0;
let totalTyped = 0;

startBtn.addEventListener("click", startTest);

function getSelectedMode() {
    return document.querySelector('input[name="mode"]:checked').value;
}

function startTest() {
    let selectedMode = getSelectedMode();
    let sentencePool;

    if (selectedMode === "easy") {
        sentencePool = easy_sentences;
    } else if (selectedMode === "medium") {
        sentencePool = medium_sentences;
    } else {
        sentencePool = hard_sentences;
    }

    const text = sentencePool[Math.floor(Math.random() * sentencePool.length)];

    sentenceDiv.innerHTML = "";

    text.split("").forEach(char => {
        const span = document.createElement("span");
        span.innerText = char;
        sentenceDiv.appendChild(span);
    });

    input.value = "";
    input.disabled = false;
    input.focus();

    time = 60;
    timeSpan.textContent = time;
    started = false;
    correctChars = 0;
    totalTyped = 0;

    resultDiv.style.display = "none";

    clearInterval(timer);
    timer = null;
}

input.addEventListener("input", () => {
    if (input.value.length > sentenceDiv.children.length) {
        input.value = input.value.slice(0, sentenceDiv.children.length);
    }

    if (!started) {
        started = true;
        timer = setInterval(updateTime, 1000);
    }

    const chars = sentenceDiv.querySelectorAll("span");
    const typed = input.value.split("");

    correctChars = 0;
    totalTyped = typed.length;

    chars.forEach((char, index) => {
        if (typed[index] == null) {
            char.className = "";
        } else if (typed[index] === char.innerText) {
            char.className = "correct";
            correctChars++;
        } else {
            char.className = "wrong";
        }
    });
});

function updateTime() {
    time--;
    timeSpan.textContent = time;

    if (time === 0) {
        clearInterval(timer);
        endTest();
    }
}

function endTest() {
    input.disabled = true;

    const words = correctChars / 5;
    const wpm = Math.round(words);
    const accuracy = totalTyped === 0 ? 0 : Math.round((correctChars / totalTyped) * 100);

    resultDiv.style.display = "block";
    resultDiv.innerHTML = `
        <h3>Results</h3>
        <p>WPM: <b>${wpm}</b></p>
        <p>Accuracy: <b>${accuracy}%</b></p>
        <p>Correct Characters: ${correctChars}</p>
        <p>Wrong Characters: ${totalTyped - correctChars}</p>
    `;
}
